# 阶段1最终共识——字段名唯一性校验

明确需求与验收标准
- 编辑字段名时进行实时校验：空值与重复给出红色错误提示；
- 重复判定忽略大小写、忽略首尾空格；
- 出现错误时，“下一步：配置规则”按钮禁用；
- 多源聚合视图禁用改名；单源视图支持改名并保持与清洗规则引用同步。

技术实现与约束
- 在 `DataPreprocessing.tsx` 中新增 `fieldNameEditValues` 与 `fieldNameErrors` 状态；
- 通过 `aria-invalid` 与红色文案体现错误；
- 计算整体重复集合 `duplicateNameSet`（基于编辑态值或当前值）；
- `onBlur` 继续执行原有提交逻辑（阻止重复、更新规则引用、清理编辑态）。

集成方案
- 不影响其他页面；与现有 shadcn/ui 组件风格一致；
- 可进一步抽象为 Form Field 组件，但暂不重构。

边界与验收
- 见上述验收标准；已覆盖常见场景（输入、失焦、修改回退）。